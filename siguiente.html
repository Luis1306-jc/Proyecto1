<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buscar Último Registro</title>
    <link rel="icon" href="img/EmblemaMexico.png">
    <link rel="stylesheet" href="css/siguiente.css">
</head>

<body>
    <div class="container">
        <div class="card" id="card-content">
            <h2>Buscar Siguiente Registro</h2>
            <form id="frm_sal" method="post" action="php/siguiente.php">
                <input type="button" id="bt_buscar" value="Buscar">
                <a href="SEDENA.HTML" class="link-regresar">Inicio</a>
            </form>
        </div>

        <!-- Spinner oculto inicialmente -->
        <div class="dot-spinner-container" id="spinner-container" style="display: none;">
            <div class="dot-spinner" id="spinner">
                <div class="dot-spinner__dot"></div>
                <div class="dot-spinner__dot"></div>
                <div class="dot-spinner__dot"></div>
                <div class="dot-spinner__dot"></div>
                <div class="dot-spinner__dot"></div>
                <div class="dot-spinner__dot"></div>
                <div class="dot-spinner__dot"></div>
                <div class="dot-spinner__dot"></div>
            </div>
        </div>
    </div>

    <script>
        addEvent(window, 'load', cargar, false);

        function addEvent(ele, eve, fun, cap) {
            if (window.attachEvent)
                ele.attachEvent('on' + eve, fun);
            else
                ele.addEventListener(eve, fun, cap);
        }

        function cargar() {
            var sal = document.getElementById("bt_buscar");
            addEvent(sal, 'click', enviarDatos, false);
        }

        function enviarDatos() {
            // Ocultar todo el contenido
            document.getElementById("card-content").style.display = "none";
            document.getElementById("spinner-container").style.display = "flex"; // Mostrar el spinner centrado

            // Enviar el formulario después de 1 segundo (simulando un procesamiento)
            setTimeout(function () {
                document.getElementById("frm_sal").submit();
            }, 1000); // Ajusta el tiempo si es necesario
        }

        // Al regresar de la página, mostrar todo de nuevo y ocultar el spinner
        window.addEventListener("pageshow", function (event) {
            // Al regresar, asegurarse de que todo el contenido y el spinner estén correctamente mostrados u ocultos
            document.getElementById("spinner-container").style.display = "none";
            document.getElementById("card-content").style.display = "block";
        });
    </script>
</body>

</html>